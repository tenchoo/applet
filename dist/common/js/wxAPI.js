"use strict";function wxPromise(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){t.success=function(e){n(e)},t.fail=function(e){o(e)},e(t)})}}function wxPromiseObj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,o){t.success=function(e){n(e)},t.fail=function(e){o(e)},e(t)})}function postRequest(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/x-www-form-urlencoded";return wxPromise(wx.request)({method:"POST",url:e,header:{"content-type":n},data:t})}function getRequest(e,t){return wxPromise(wx.request)({method:"GET",url:e,data:t})}function getLocation(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wgs84";return wxPromise(wx.getLocation)({type:e})}function login(){return wxPromise(wx.login)()}function getUserInfo(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"zh_CN";return wxPromise(wx.getUserInfo)({withCredentials:e,lang:t})}function getSetting(e){return wxPromise(wx.getSetting)().then(function(t){return!!t.authSetting[e]})}function authorize(e){return wxPromise(wx.authorize)({scope:e})}function showModal(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"确定";return wxPromise(wx.showModal)({title:e,content:t,confirmColor:"#50a0ff",confirmText:n})}var Promise=require("../../lib/promise/es6-promise.min.js");Promise.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){throw n})})},module.exports={wxPromise:wxPromise,wxPromiseObj:wxPromiseObj,getRequest:getRequest,postRequest:postRequest,getLocation:getLocation,login:login,getUserInfo:getUserInfo,getSetting:getSetting,authorize:authorize,showModal:showModal};